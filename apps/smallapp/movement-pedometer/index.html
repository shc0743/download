<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="utf-8" />
<title>您的浏览器版本过低</title>   
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://shc7432.github.io/public/something/stools.js"></script>
<!--script src="https://code.jquery.com/jquery-3.5.0.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script-->
<script src="https://shc7432.github.io/public/getLinkInput/getLinkInput.js"></script>
<!--link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"-->
<script src="https://shc0743.github.io/crypto-js/core.js"></script>
<script src="https://shc0743.github.io/crypto-js/enc-base64.js"></script>
<script src="https://shc0743.github.io/crypto-js/enc-hex.js"></script>
<script src="https://shc0743.github.io/crypto-js/enc-utf8.js"></script>
<script src="https://shc0743.github.io/crypto-js/enc-utf16.js"></script>
<script src="https://shc0743.github.io/crypto-js/crypto-js.js"></script>
<script src="https://shc0743.github.io/crypto-js/aes.js"></script>
<script src="https://shc0743.github.io/crypto-js/md5.js"></script>
<script src="https://shc0743.github.io/crypto-js/sha1.js"></script>
<script src="https://shc0743.github.io/crypto-js/sha512.js"></script>
<script src="https://pv.sohu.com/cityjson"></script>
<script>
  window.getip=window.getIP=function(){
    return returnCitySN.cip;
  }
function getRandom(min, max) {
    return Math.floor(Math.random() * (max - min + 1) ) + min;
}
</script>
</head>
<body>
<span id=toolow><h1>您的浏览器版本过低</h1><h2>请更换浏览器或启用JavaScript</h2></span>
<div id=mainDivElement>
<h1>计步器</h1>
<big>今日步数 <span style="color:blue;" id=tdnum>0</span></big><br>
实时计步 <span id=jbstatus style="color:red">已禁用</span><span id=agreedstatus><br>
i 由于本计步器特性,需要获取经纬度,所以<a href='javascript:;' onclick=
'navigator.geolocation.getCurrentPosition(new Function("agreedgeo()"),new Function("agreedstatus.innerHTML=\"<br />已拒绝定位服务\""))'>点击授权</a></span>
</div>
<!--分鸽线-->
<script>
(function(){
toolow.hidden=1;
date=new Date();ystd=new Date();ystd.setDate(ystd.getDate()-1);
tdd=date.getFullYear()+"-"+(date.getMonth()+1)+"-"+date.getDate();
ystd=ystd.getFullYear()+"-"+(ystd.getMonth()+1)+"-"+ystd.getDate();
try{
var bs=JSON.parse(localStorage.memoryNumberOfStepsWithJson);window.stepnumber=bs;
}catch(e){
let a=new Object();a.nums=new Object();
localStorage.memoryNumberOfStepsWithJson=JSON.stringify(a);
var bs=JSON.parse(localStorage.memoryNumberOfStepsWithJson);window.stepnumber=bs;
}
bs.nums[tdd] ? false : bs.nums[tdd]=new Object() ;
bs.todayNum=(bs.nums[tdd].lastNum ? bs.nums[tdd].lastNum : 0);
document.title=(bs.todayNum ? `计步器 今日步数${bs.todayNum}` : '计步器');
tdnum.innerHTML=bs.todayNum;
})()
function uploadnum(){localStorage.memoryNumberOfStepsWithJson=JSON.stringify(stepnumber)};
function agreedgeo(){jbstatus.innerHTML="已启用";jbstatus.style.color="blue";startJiBu(1);agreedstatus.hidden=1};
function startJiBu(t){if(!t) return false;
function addbs(position){
let lat=position.coords.latitude,lon=position.coords.longitude;	
if(!window.befbusu){window.befbusu={lat:0,lon:0};};
if(!(lat!=befbusu.lat||lon!=befbusu.lon)) return 'Nothing';
stepnumber.nums[tdd].lastNum++;uploadnum();tdnum.innerHTML=stepnumber.nums[tdd].lastNum;
jbstatus.style.color='red';setTimeout("jbstatus.style.color='blue'",1500);
};navigator.geolocation.watchPosition(addbs);
}</script>
</body>
</html>
