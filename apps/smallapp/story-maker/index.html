<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Story</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://shc7432.github.io/public/getLinkInput/getLinkInput.js"></script>
    <script>
        function getRandom(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }
    </script>
</head>

<body>

    <main>
        <div id=main>

        </div>
    </main>

    <script>
        (function () {
            var title=getUrlValue('title');
            var content=getUrlValue('text');
            if(!content) {location.href='make.html';return;}
            function populate() {
                while (true) {
                    // 文档末端
                    let windowRelativeBottom = document.documentElement.getBoundingClientRect().bottom;
                    // 如果用户将页面滚动的距离不够远（文档末端距窗口底部 >100px）
                    if (windowRelativeBottom > document.documentElement.clientHeight + 100) break;
                    // 让我们添加更多数据
                    main.appendChild(document.createTextNode(content));
                }
            }
            window.addEventListener('scroll',populate);
            populate();
            if(title) document.title=title;
        })()
    </script>
</body>

</html>