<meta name=viewport content="width=device-width">
<meta http-equiv="Access-Control-Allow-Origin" content="*">
<body onload="onload()">
<audio src="bgm1.mp3" id="bgm" controls="controls" loop="false" oncanplay="bgmloadok()" hidden>如果您看到此消息,请<a href="javascript:bgmloadok()">点这里</a></audio>
    <div class="container">
        <h1>营销号生成器</h1>
        <div class="row">
            <div class="col-sm-5 col-xs-12">
                <form action="javascript:void(0);" autocomplete="off">
                    <div class="form-group">
                        <lable for="subject">主体：</lable>
                        <input type="text" id="subject" class="form-control" placeholder="桃子核" required />
                    </div>
                    <div class="form-group">
                        <lable for="event">事件：</lable>
                        <input type="text" id="event" class="form-control" placeholder="不能吞下去" required />
                    </div>
                    <div class="form-group">
                        <lable for="event2">另一种说法：</lable>
                        <input type="text" id="event2" class="form-control" placeholder="桃核太大了，吞下去容易噎着" required />
                    </div>
                    <input type="submit" value="生成" class="btn btn-primary" onclick="generate()" />
                    <input type="button" value="播放营销号语音" class="btn btn-primary" onclick="playsoundDz('bgm.mp3',this)" />
                </form>
            </div>
            <div class="col-sm-7 col-xs-12">
                <textarea id="result" onchange="auto_grow(this)" oninput="auto_grow(this)"
                    placeholder="　　桃子核不能吞下去是怎么回事呢？桃子核相信大家都很熟悉，但是桃子核不能吞下去是怎么回事呢，下面就让小编带大家一起了解吧。&#013;&#010;　　桃子核不能吞下去，其实就是桃核太大了，吞下去容易噎着，大家可能会很惊讶桃子核怎么会不能吞下去呢？但事实就是这样，小编也感到非常惊讶。&#013;&#010;　　这就是关于桃子核不能吞下去的事情了，大家有什么想法呢，欢迎在评论区告诉小编一起讨论哦！"></textarea>
            </div>
        </div>
    </div>
    <hr />
    <div id="footer">
        Made by: Kasei
        <br />
        <a href="http://kaseidis.gitee.io/interesting_gadgets/marketing_generator/index.htm" target="_blank">大陆镜像</a>
    </div>
<div id=notloadok style="background-color:#fff;position: absolute;  top: 0%;  left: 0%;  width: 100%;  height: 100%;  border: 0px solid #fff;  background-color: #ffffff;text-align:center;">
<h1>正在加载,请稍候...</h1><br><br><span id=cantload hidden>若加载较长时间仍无法完成,请<a href="javascript:bgmloadok()">点击这里</a><br>当前已加载<span style="color:blue" id=loadedtime></span>秒</span></div>
<style>
textarea {
    resize: none;
    overflow: hidden;
    width: 100%;
    min-height: 50px;
}
lable {
    font-weight: bold;
}

#footer {
    text-align: center;
}
button {
    margin-bottom: 10px;
}
</style>
<script>
function auto_grow(element) {
    element.style.height = "5px";
    element.style.height = (element.scrollHeight)+"px";
}

function onload() {
    auto_grow(document.getElementById("result"));
}
function bgmloadok(){
window.playsoundDz=function(sounds,el){if(!sced) return;
bgm.volume = 0.2;
bgm.play();
myaudio.src="https://tts.baidu.com/text2audio?cuid=t&lan=zh&ctp=1&pdt=311&tex="+encodeURIComponent(document.getElementById("result").value);
myaudio.volume=0.6;
myaudio.play();}
notloadok.hidden=1;
uploadloadtime=undefined;
}
function uploadloadtime(){
if(typeof(t)=="undefined") var t=0;
t++;
loadedtime.innerHTML=t;
setTimeout(uploadloadtime,1000);
}

function generate() {
    subject = document.getElementById("subject").value;
    event = document.getElementById("event").value;
    event2 = document.getElementById("event2").value;
    if (subject.length==0 || event.length==0 || event2.length==0)
        return;
    result = `　　${subject}${event}是怎么回事呢？${subject}相信大家都很熟悉，但是${subject}${event}是怎么回事呢，下面就让小编带大家一起了解吧。\r\n　　${subject}${event}，其实就是${event2}，大家可能会很惊讶${subject}怎么会${event}呢？但事实就是这样，小编也感到非常惊讶。\r\n　　这就是关于${subject}${event}的事情了，大家有什么想法呢，欢迎在评论区告诉小编一起讨论哦！`;
    document.getElementById("result").value = result;
    auto_grow(document.getElementById("result"));
    sced=1;
}
result.onkeydown=result.oninput=function(e){
if(e.keyCode==13) {void(0)}
e.preventDefault();
return false;
}

var ua = navigator.userAgent.toLowerCase();
if(ua.match(/MicroMessenger/i)=="micromessenger") {
let a=document.body;
a.innerHTML=((`<div style="background-color:#ffee00">提示:在微信中可能无法正常播放,建议用浏览器打开</div>`)+a.innerHTML);
}
</script>
<span style="position:absolute;top:-999999px;left:-999999px;"><audio src="" id="myaudio" controls="controls"></audio></span>
</body>
